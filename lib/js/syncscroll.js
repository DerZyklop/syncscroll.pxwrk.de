// Generated by CoffeeScript 1.6.1

/*
syncScroll.js (v0.2)
https://github.com/pxwrk/syncscroll.pxwrk.de
*/


(function() {

  (function($) {
    var contentHeight, percentage, scrollTop, viewHeight;
    contentHeight = function(el) {
      return el.get(0).scrollHeight;
    };
    viewHeight = function(el) {
      return el.outerHeight();
    };
    scrollTop = function(el) {
      return el.scrollTop();
    };
    percentage = function(el) {
      return scrollTop(el) / (contentHeight(el) - viewHeight(el)) * 100;
    };
    return $.fn.syncScroll = function(selector) {
      var el1, el2, setNewPosition;
      el1 = jQuery(this);
      el2 = jQuery(selector);
      setNewPosition = function(source, target) {
        var newScrollTop;
        newScrollTop = percentage(source) / 100 * (contentHeight(target) - viewHeight(target));
        return target.scrollTop(newScrollTop);
      };
      el1.on('mouseenter', function() {
        return jQuery(this).on('scroll', function() {
          return setNewPosition(el1, el2);
        });
      }).on('mouseleave', function() {
        return jQuery(this).off('scroll');
      });
      return el2.on('mouseenter', function() {
        return jQuery(this).on('scroll', function() {
          return setNewPosition(el2, el1);
        });
      }).on('mouseleave', function() {
        return jQuery(this).off('scroll');
      });
    };
  })(jQuery);

}).call(this);
